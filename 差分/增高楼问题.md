# å·®åˆ†å¤„ç†å¢é«˜æ¥¼é—®é¢˜


### ï¼ˆ1ï¼‰âš—ï¸è¿ç»­ä¸€æ®µå¢é«˜è‡³ä½¿å…¶åˆ°è¾¾è§„å®šçš„é«˜åº¦

    è¿™ä¸ªåº”è¯¥æ˜¯æœ€ç»å…¸çš„é—®é¢˜äº†ã€‚
    é¢˜ç›®å¤§è‡´å°±æ˜¯ï¼šæ¯æ¬¡ä½ å¯ä»¥é€‰å–ä¸€ä¸ªä¸€æ®µè¿ç»­çš„åŒºé—´ç„¶åä½¿è¿™æ®µåŒºé—´çš„æ•°å­—éƒ½åŠ ä¸€ï¼Œç„¶åè‡´ä½¿å…¶æ¯ä¸€ä¸ªæ•°å­—åˆ°è¾¾è§„å®šçš„é«˜åº¦çš„æœ€å°‘æ“ä½œã€‚  


    æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å·®åˆ†æ¥åšï¼Œå…ˆå°†è§„å®šåˆ°è¾¾çš„æ•°ç»„è¿›è¡Œå·®åˆ†å¤„ç†ï¼Œå…¶å®ç­”æ¡ˆå°±æ˜¯å°†æ¯ä¸€ä¸ªæ­£çš„æ•°è¿›è¡Œç›¸åŠ å°±æ˜¯ç»“æœã€‚
    
    å®šä¹‰optä¸ºæ‰€æœ‰å·®åˆ†æ­£æ•°çš„å’Œï¼Œnegä¸ºæ‰€æœ‰è´Ÿæ•°çš„å’Œã€‚
    é¦–å…ˆæˆ‘ä»¬è€ƒè™‘ä½ æƒ³è¿‡ç¨‹ï¼Œå³å°†è§„å®šæ•°ç»„å°†ä¸ºå…¨0ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¯æ¬¡é€‰å–[L,R]åŒºé—´çš„è¯é‚£h[L] - 1, h[R + 1] + 1,é‚£ä¹ˆå¯¹äºæ¯ä¸€ä¸ªè´Ÿå€¼æˆ‘ä»¬éƒ½å¯ä»¥
    é€šè¿‡åœ¨å‰é¢é€‰æ‹©ä¸€ä¸ªæ­£å€¼ä¸ºèµ·å§‹L,è´Ÿå€¼å‰ä¸€ä¸ªä½ç½®ä¸ºRé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥å°†æ‰€æœ‰çš„å·®åˆ†å€¼éƒ½è½¬åŒ–ä¸ºh >= 0ï¼Œå¹¶ä¸”æ“ä½œçš„æ¬¡æ•°ä¸ºnegã€‚
    ç„¶åå‰©ä¸‹çš„æ­£å€¼æˆ‘ä»¬å°±å¯ä»¥é€‰å–æ¯ä¸€ä¸ªä¸ºæ­£çš„åœ°æ–¹ä¸ºLï¼Œæ•°ç»„æœ«å°¾ä¸ºR,è¿›è¡Œæ“ä½œï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ä¸ä¼šæœ‰åœ°æ–¹åœ¨å¢åŠ ï¼Œæ‰€ä»¥æ“ä½œæ¬¡æ•°ä¸ºopt - negã€‚
    é‚£ä¹ˆæ€»çš„æ“ä½œæ¬¡æ•°å°±æ˜¯optæ¬¡ã€‚

```C++

#include <bits/stdc++.h>

using namespace std;
using i64 = long long;

int main()
{
#ifndef ONLINE_JUDGE
freopen("in.txt","r",stdin);
freopen("out.txt","w",stdout);
#endif
    ios::sync_with_stdio(false);cin.tie(nullptr);

    int n;
    i64 opt = 0;
    for(int i = 1; i <= n ; i++) cin >> a[i];
    for(int i = 1; i <= n ; i++){
        h[i] = a[i] - a[i-1];
        if(h[i] > 0) opt ++;
    }
    
    cout << opt << endl;

    return 0;
}
```

###  (2)  ğŸ¹ï¼ˆ1ï¼‰é—®é¢˜çš„æˆç¯å‡çº§  [C - Circular Addition](https://atcoder.jp/contests/arc136/tasks/arc136_c)

    è¿™é“é¢˜ä¸ï¼ˆ1ï¼‰çš„ä¸åŒåœ¨äºï¼Œä»–å°†æ•´ä¸ªæ•°ç»„è¿æˆäº†ä¸€ä¸ªç¯ã€‚
    
    å…¶å®åšæ³•åŸºæœ¬ä¸å˜ï¼Œæˆ‘ä»¬è¿˜æ˜¯å°†æ•´ä¸ªæ•°ç»„æ±‚ä¸€ä¸‹å·®åˆ†æ•°ç»„ï¼Œä½†æ˜¯è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œh[0] = a[n - 1] - a[0]ã€‚
    è¿™æ ·å°±ä¿è¯äº†æ˜¯ä¸€ä¸ªæˆç¯çš„æ•°ç»„ï¼Œå¹¶ä¸”æ­¤æ—¶æˆ‘ä»¬å‘ç°neg == optæ’æˆç«‹ã€‚ç”±äºæˆ‘ä»¬æ•´æ®µçš„åŒºé—´ä¿®æ”¹æ€»ä¼šä½¿ä¸€ä¸ªåœ°æ–¹ï¼‹ï¼Œå¦ä¸€ä¸ªåœ°æ–¹-ï¼Œé‚£ä¹ˆ
    æŒ‰ç†æ¥è¯´ç­”æ¡ˆè¿˜æ˜¯optï¼Œä½†æ˜¯æ­£æ˜¯æˆç¯çš„åœ°æ–¹å¯¼è‡´äº†è¿™æ ·åšæ˜¯ä¸å¯¹çš„ã€‚
    å› ä¸ºå¾ˆå¯èƒ½å¯¼è‡´äº†æ¢¯åº¦è¾¾åˆ°äº†ï¼Œä½†æ˜¯é«˜åº¦è¿˜ä¸å¤Ÿã€‚
    ä¾‹å¦‚ï¼š3 1 4 1 5
          5 3 6 3 7
    ä»–ä»¬çš„å·®åˆ†æ•°ç»„ä½¿ä¸€æ ·çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¾ç„¶çŸ¥é“ç¬¬äºŒç»„ä¸€å®šä¼šæ¯”ç¬¬ä¸€ç»„å¤š2ï¼Œä½†æ˜¯å•çº¯æŒ‰ç…§optçš„è¯å°±ä¸å¯¹äº†ã€‚
    è¿™æ—¶æˆ‘ä»¬çš„ç­”æ¡ˆå…¶å®å°±æ˜¯max(Max,opt)(Maxæ˜¯a[i]ä¸­çš„æœ€å¤§å€¼)ã€‚
    è¿™ä¸ªæ„æ€å°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨é€‰å®šä¸€ä¸ªLï¼ˆæ­£å€¼ï¼‰å’ŒR(è´Ÿå€¼)æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯æœ€å¤§å€¼ä¸€ç›´éƒ½åœ¨è¿™ä¸ªåŒºé—´é‡Œé¢ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¼šå¯¹æœ€é«˜çš„æ“ä½œäº†optæ¬¡ï¼Œå¦‚æœ
    optå°äºMax,é‚£ä¹ˆæˆ‘ä»¬å‰©ä¸‹éœ€è¦åšçš„å°±æ˜¯è®©æ•´ä½“åŠ ä¸€ï¼ˆMax-optï¼‰æ¬¡ã€‚å¦‚æœå¤§äºçš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ˜¯ä¼šåˆç†åˆ†é…è‡´ä½¿å…¶è¾¾åˆ°ã€‚
    
    è€Œçº¿æ€§ä¸ç”¨è¿™æ ·å¤„ç†çš„åŸå› æ˜¯ï¼Œæˆ‘ä»¬çš„h[0]å…¶å®å°±æ˜¯a[0]ï¼Œåœ¨æˆ‘ä»¬ä¿è¯h[0]å˜ä¸º0çš„æ—¶å€™å…¶å®å°±å·²ç»ä¿è¯äº†æ•´ä¸ªæ•°ç»„æ˜¯å®Œå…¨å¯¹åº”çš„ã€‚

```C++
#include <bits/stdc++.h>

using namespace std;
using i64 = long long;
const int maxn = 2e5 + 10;

int a[maxn],h[maxn];

int main()
{
#ifndef ONLINE_JUDGE
freopen("in.txt","r",stdin);
freopen("out.txt","w",stdout);
#endif
    ios::sync_with_stdio(false);cin.tie(nullptr);

    int n;
    cin >> n;

    for(int i = 0; i < n ; i++){
        cin >> a[i];
    }
    i64 ans = 0;
    for(int i = 0 ; i < n ; i++){
        ans += max(a[i] - a[(i - 1 + n) % n] , 0);
    }
    cout << max(ans, 1ll*max_element(a ,a + n)) << endl;
    return 0;
}
```

###  ï¼ˆ3ï¼‰ğŸš¡é€‰å–å›ºå®šçš„è¿ç»­ä¸€æ®µå‡é«˜  [é˜¿æœ±ä¸æ—­å®å®çš„é«˜æ¥¼æ¸¸æˆ](http://acm.zzuli.edu.cn/problem.php?id=2900)

    è¿™ä¸ªé¢˜åˆ¤æ–­çš„ä¸ç¬¬ä¸€é¢˜çš„ä¸åŒç‚¹åœ¨äºï¼Œæ¯æ¬¡é€‰å–çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸€ä¸ªh[i] < 0æˆ‘ä»¬éƒ½è¦æ‰¾åˆ°å‰é¢çš„h[- m] > 0,
    ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯è¿™ä¸ªå€¼ä¸€å®šæ˜¯å¤§çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸€å®šä¼šæœ‰æµªè´¹çš„æ­¥éª¤ã€‚
    æˆ‘ä»¬åªéœ€è¦ä»åå¾€å‰å»å¤„ç†h[i] > 0çš„ï¼Œåœ¨ä»å‰å¾€åå»å¤„ç†h[i] < 0çš„ï¼Œç„¶åè®¡ç®—ä¸€ä¸‹æ­¤æ—¶æœ‰æ²¡æœ‰h[i]ä¸æ˜¯0çš„ï¼Œå¦‚æœæœ‰ï¼Œé‚£å°±è¯´æ˜
    ä¸€å®šæ˜¯æ— è§£çš„ã€‚
    
    åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥ä¸Šçš„åˆ¤æ–­å‡ä¸å¯¹h[1]è¿›è¡Œï¼Œå› ä¸ºh[1]ä¸æˆ‘ä»¬æ— å…³ï¼Œä»–åªæ˜¯è¡¨ç°äº†æ­¤æ—¶æ•°ç»„çš„æ•´ä½“é«˜åº¦ï¼Œè€Œä¸æ˜¯å¦ç­‰é«˜æ— å…³ã€‚

```C++
#include <bits/stdc++.h>

using namespace std;
using i64 = long long;
const int INF = 0x3f3f3f3f;

int h[100010];
int main()
{
#ifndef ONLINE_JUDGE
freopen("in.txt","r",stdin);
freopen("out.txt","w",stdout);
#endif
    ios::sync_with_stdio(false);cin.tie(nullptr);

    int t;
    cin >> t;
    while(t--){

        int n, m;
        cin >> n >> m;
        for(int i = 1; i <= n ; i++){
            cin >> h[i];
        }
        for(int i = n ; i >= 1; i--) h[i] -= h[i - 1];

        i64 ans = 0;
        for(int i = n ; i >= 2; i--){
            if(h[i] > 0 && i - m >= 1){
                ans += 1ll * h[i];
                h[i - m] += h[i];
                h[i] = 0;
            }
        }
        for(int i = 2; i <= n ; i++){
            if(h[i] < 0 && i + m - 1 <= n){
                ans -= 1ll * h[i];
                h[i + m] += h[i];
                h[i] = 0;
            }
        }
        bool ok = true;
        for(int i = 2; i <= n ; i++){
            if(h[i] != 0) ok = false;
        }
        if(ok){
            cout << ans << endl;
        } else {
            cout << -1 << endl;
        }
    }
    return 0;
}
```
      
```diff
!     ğŸš‘2022-03-04
```
    
