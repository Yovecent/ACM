#  âœ”ï¸å“ˆå¸Œ

>  ğŸ‘’ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Ÿ

   ç®€å•æ¥è¯´å°±æ˜¯ï¼Œå°†ä¸€æ®µå­—ç¬¦ä¸²æˆ–è€…æ˜¯æ•°ç»„è¿›è¡Œå¦ä¸€ç§å½¢å¼çš„è½¬åŒ–ï¼Œè€Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†å…¶è¿›è¡Œæ›´ä¸ºç®€å•çš„æ¯”è¾ƒè€Œå¾—çŸ¥
   æŸä¸¤ä¸ªæ˜¯å¦ç›¸åŒã€‚
   
   
+   ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬é€šè¿‡ç´ æ•°å°†å…¶è¿›è¡Œè½¬å“ˆå¸Œå³å¯ã€‚é€šå¸¸æœ‰131ï¼Œ 1331ç­‰


 ### 1.è¿›è¡Œåˆå§‹åŒ–ï¼Œæ„é€ å‡ºå‰ç¼€å’Œsumä»¥åŠè¿›ä½p
 
 ```C++
    p[0] = 1;
	for (int i = 1; i <= n; i++) {
		sum[i] = sum[i - 1] * Hash + s[i] - 'a';
		p[i] = p[i - 1] * Hash;
	}
 ```

 ### 2.é€šè¿‡è¿›è¡Œç›¸å‡åŒæ—¶è¿›ä½è¿›è¡Œæ¯”è¾ƒ
   
 ```C++
 
  sum[r1] - sum[l1 - 1] * p[r1 - l1 + 1] == sum[r2] - sum[l2 - 1] * p[r2 - l2 + 1]
 ```


# åŒå“ˆå¸Œ

   è¢«å“ˆå¸Œå†²çªå¡æ‰äº†ï¼Œç¦»äº†ä¸ªå¤§æ™®ã€‚
   è¿™é‡Œåˆå› ä¸ºunsigned long long æº¢å‡ºæ—¶é‡‡ç”¨çš„æ˜¯å–æ¨¡2^64ï¼Œæ‰€ä»¥æ‰‹åŠ¨é€‰å–ä¸€ä¸ªå¤§ç´ æ•°å»æ¨¡ä¼šæ›´å¥½ä¸€äº›ã€‚
   åŒå“ˆå¸Œé‡‡å–çš„æ˜¯é€šè¿‡ä¸¤ç§ä¸åŒçš„å“ˆå¸Œè®¡ç®—ï¼Œå°†å…¶ç”¨pair<i64, i64>æ¥ä»£è¡¨å…¶çœŸæ­£çš„å“ˆå¸Œå€¼ï¼Œè¿™æ ·ä¼šä½¿å¾—å“ˆå¸Œå†²çªæ›´å°
   
```C++
#define mod2 2000000011
#define mod 3000000019
#define Hash 131

    p[0] = 1;
    for (int i = 1; i <= 1e6; i++) p[i] = p[i - 1] *  Hash % mod1;
    p2[0] = 1;
    for (int i = 1; i <= 1e6; i++) p2[i] = p2[i - 1] * Hash % mod2;
    for (int i = 1; i <= n+2; i++) {
        sum1[i] = (sum1[i - 1] * Hash % mod1 + s[i]) % mod1;
	sum2[i] = (sum2[i - 1] * Hash % mod2 + s[i]) % mod2;
    }
    
```

<br>

```C++
   i64 query1 (int l, int r) {
	return (sum1[r] - sum1[l - 1] * p1[r - l + 1] % mod1 + mod1) % mod1;
   }
   i64 query2 (int l, int r) {
	return (sum2[r] - sum2[l - 1] * p2[r - l + 1] % mod2 + mod2) % mod2;
   }
   pair<i64, i64> query (int l, int r) {
        return {query1(l, r), query2(l, r)};
   }
```

 ```diff
 ! 2022-07-05ğŸ¥“ 
 ```
