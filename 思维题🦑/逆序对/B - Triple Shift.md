#  ğŸ¥£[B - Triple Shift](https://atcoder.jp/contests/arc136/tasks/arc136_b)

    é¦–å…ˆæˆ‘ä»¬æ¥è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªäº¤æ¢çš„æ“ä½œï¼Œä»–å…¶å®æ˜¯æŠŠé€‰ä¸­çš„è¿ç»­çš„ä¸‰ä¸ªæ•°é€†æ—¶é’ˆè¿›è¡Œæ—‹è½¬ã€‚
    
    > é‚£ä¹ˆæˆ‘ä»¬å…ˆè¯´å¯¹äºæ‰€æœ‰å…ƒç´ éƒ½ä¸ç›¸åŒçš„æƒ…å†µï¼š
    
    æˆ‘ä»¬è€ƒè™‘å¯¹äºBæ•°ç»„çš„å‰n - 2 ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬æ€»å¯ä»¥ä¿è¯Aæ•°ç»„çš„å¯¹åº”å…ƒç´ åˆ°è¾¾ä¸Bç›¸åŒçš„ä½ç½®ï¼Œå› ä¸ºé€‰æ‹©ä¸‰ä¸ªæ—‹è½¬å°±èƒ½ä¿è¯ã€‚
    é‚£ä¹ˆä¹Ÿå°±å‰©ä¸‹äº†æœ€åçš„ 2 ä¸ªå…ƒç´ è€Œå¯¹äºä»–ä»¬ä¸¤ä¸ªæˆ‘ä»¬ä¸å¯ä»¥è¿›è¡Œæ—‹è½¬æ“ä½œäº†, é‚£ä¹ˆå¦‚æœä»–ä»¬ä¸¤ä¸ªçš„é¡ºåºä¸Bä¸­çš„æ°å¥½ç›¸åŒï¼Œé‚£ä¹ˆå°±è¯´æ˜
    äº†å¯ä»¥è½¬åŒ–ä¸ºB,ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆåˆ¤æ–­æœ€åçš„ä¸¤ä¸ªæ•°çš„ä½ç½®å…³ç³»å‘¢ï¼Ÿ
    
    å…¶å®æˆ‘ä»¬å¯ä»¥ç®€å•éªŒè¯æ—‹è½¬æ“ä½œå¯¹äºæ•´ä¸ªæ•°ç»„çš„é€†åºå¯¹æ•°å¹¶ä¸ä¼šé€ æˆå½±å“ã€‚
    æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„é€†åºå¯¹æ•°å¥‡å¶æ€§æ˜¯å¦ç›¸åŒæ¥è¿›è¡Œåˆ¤æ–­ã€‚
    å› ä¸ºæ€»å¯ä»¥é€šè¿‡æ—‹è½¬å°†Aä¸Bçš„å‰n - 2ä¸ªå…ƒç´ è¿›è¡Œå¯¹åº”ï¼Œè€Œæ—‹è½¬å¹¶ä¸æ”¹å˜é€†åºå¯¹æ•°ï¼Œå¦‚æœä»–ä»¬çš„é€†åºå¯¹æ•°ç›¸åŒï¼Œé‚£ä¹Ÿå°±è¯´æ˜äº†å‰©ä¸‹çš„ä¸¤ä¸ªä¸€å®šæ˜¯
    å¯¹åº”ç›¸åŒçš„ã€‚
    
    > é‚£ä¹ˆæˆ‘ä»¬æ¥è€ƒè™‘ç¬¬äºŒç§æƒ…å†µ(å­˜åœ¨å…ƒç´ ç›¸åŒ)ï¼š
    
    å¦‚æœæˆ‘ä»¬æŠŠæ¯ä¸€ä¸ªå…ƒç´ éƒ½ç”¨ä¸€ä¸ªå”¯ä¸€çš„æ ‡å·è¿›è¡ŒåŒºåˆ†ï¼ŒæŠŠç›¸åŒçš„å‡è®¾å€¼éƒ½ä¸ºvçš„å…ƒç´ å®šä¹‰ä¸ºv1,v2,v3......ã€‚é‚£ä¹ˆæˆ‘ä»¬å…ˆå°†Bä¸­çš„å…ƒç´ è¿›è¡Œä»æ–°ç¼–å·ï¼Œ
    ç„¶åå†å¯¹Aä¸­çš„è¿›è¡Œç¼–å·ï¼Œå¦‚æœåœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼ŒAä¸Bçš„é€†åºå¯¹å¥‡å¶æ€§ç›¸åŒï¼ˆv1 > v2 > v3 > ....ï¼Œè€Œæ¯”è¾ƒå…¶ä»–å€¼æ—¶æ²¡æœ‰åŒºåˆ«ï¼‰ï¼Œåˆ™ä¸Šè¿°è¯´æ˜ï¼Œå¯ä»¥è¾¾åˆ°ï¼Œ
    è€Œå¦‚æœä¸åŒçš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†Aä¸­çš„v1ä¸v2çš„å®šä¹‰ä½ç½®å¯¹è°ƒï¼Œè¿™ä¸ªæ“ä½œæ˜¯å¯ä»¥æ”¹å˜é€†åºå¯¹å¥‡å¶æ€§çš„ï¼Œé‚£ä¹ˆå¥‡å¶æ€§å°±ç›¸åŒäº†ã€‚
    æ‰€ä»¥å¦‚æœæœ‰å…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆå°±ä¸€å®šå¯ä»¥å˜æˆç›¸åŒçš„ã€‚
    
```C++
#include <bits/stdc++.h>

using namespace std;
using i64 = long long;
const int maxn  = 1e5 + 10;

int visa[maxn],visb[maxn],a[maxn],b[maxn], c[maxn];
i64 cnt;
void merge(int l,int mid,int r,int a[]){

    int i = l,j = mid + 1, k = l;
    while(i <= mid && j <= r){
        if(a[i] > a[j]){
            cnt += mid - i + 1;
            c[k++] = a[j++];
        } else {
            c[k++] = a[i++];
        }
    }
    while(i <= mid) c[k++] = a[i++];    
    while(j <= r)   c[k++] = a[j++];
    for(int i = l ; i <= r;  i++){
        a[i] = c[i];
    } 
}
void merge_sort(int l,int r,int a[]){

    if(l >= r) return;

    int mid = l + r >> 1;
    merge_sort(l , mid,a);
    merge_sort(mid + 1, r,a);
    merge(l,mid,r,a);

}
int main()
{
#ifndef ONLINE_JUDGE
freopen("in.txt","r",stdin);
freopen("out.txt","w",stdout);
#endif

    ios::sync_with_stdio(false);cin.tie(nullptr);

    int n;
    cin >> n;
    bool ok = false;
    for(int i = 1; i <= n ; i++){
        cin >> a[i];
        visa[a[i]] ++;
        if(visa[a[i]] == 2) ok = true;
    }
    for(int i = 1; i <= n ; i++){
        cin >> b[i];
        visb[b[i]]++;
    }
    for(int i = 1; i <= 5000 ; i++){
        if(visa[i] != visb[i]){
            cout << "No" << endl;
            return 0;
        }
    }

    if(ok){
        cout << "Yes" << endl;
        return 0;
    }
    cnt = 0;
    merge_sort(1, n,a);
    i64 ans = cnt;
    cnt = 0;
    merge_sort(1,n ,b);

    if((ans & 1) == (cnt & 1)){
        cout << "Yes" << endl;
    } else {
        cout << "No" << endl;
    }

    return 0;
}
```

```diff
!    ğŸ¤¡2022-03-04
```
